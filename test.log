
   PASS  Tests\Unit\ExampleTest
  ✓ that true is true                                                    0.02s  

   PASS  Tests\Feature\Auth\AuthenticationTest
  ✓ login screen can be rendered                                         0.72s  
  ✓ users can authenticate using the login screen                        0.19s  
  ✓ users can not authenticate with invalid password                     0.25s  

   PASS  Tests\Feature\Auth\EmailVerificationTest
  ✓ email verification screen can be rendered                            0.04s  
  ✓ email can be verified                                                0.05s  
  ✓ email is not verified with invalid hash                              0.04s  

   PASS  Tests\Feature\Auth\PasswordConfirmationTest
  ✓ confirm password screen can be rendered                              0.03s  
  ✓ password can be confirmed                                            0.08s  
  ✓ password is not confirmed with invalid password                      0.23s  

   PASS  Tests\Feature\Auth\PasswordResetTest
  ✓ reset password link screen can be rendered                           0.04s  
  ✓ reset password link can be requested                                 0.07s  
  ✓ reset password screen can be rendered                                0.04s  
  ✓ password can be reset with valid token                               0.04s  

   PASS  Tests\Feature\Auth\PasswordUpdateTest
  ✓ password can be updated                                              0.09s  
  ✓ correct password must be provided to update password                 0.08s  

   PASS  Tests\Feature\Auth\RegistrationTest
  ✓ registration screen can be rendered                                  0.04s  
  ✓ new users can register                                               0.03s  

   PASS  Tests\Feature\ExampleTest
  ✓ the application returns a successful response                        0.03s  

   PASS  Tests\Unit\Http\Controllers\GithubApiControllerTest
  ✓ index returns correct response structure                             0.11s  
  ✓ store with valid data creates new record                             3.29s  
  ✓ store with existing id updates existing record                       1.74s  
  ✓ store with no data throws exception                                  0.03s  
  ✓ store with more than 5 records throws exception                      0.03s  
  ✓ remove with existing id deletes record                               0.03s  
  ✓ remove with non existing id throws exception                         0.02s  

   FAIL  Tests\Unit\GithubControllerTest
  ✓ index displays all githubs                                           0.05s  
  ✓ show displays github details                                         0.04s  
  ✓ add shows add form                                                   0.04s  
  ⨯ store creates new github                                             0.46s  
  ⨯ store updates existing github                                        0.03s  
  ✓ store fails to create more than5 githubs                             0.03s  
  ✓ remove                                                               0.03s  

   PASS  Tests\Feature\ProfileTest
  ✓ profile page is displayed                                            0.05s  
  ✓ profile information can be updated                                   0.04s  
  ✓ email verification status is unchanged when the email address is un… 0.02s  
  ✓ user can delete their account                                        0.08s  
  ✓ correct password must be provided to delete account                  0.09s  

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Unit\GithubControllerTest > store creates new github           
  Failed asserting that null matches expected 'github-created'.

The following exception occurred during the last request:

Exception: Error getting GitHub stats. Please try again later. in /var/www/html/app/Helpers/GithubClientHelper.php:61
Stack trace:
#0 /var/www/html/app/Http/Controllers/GithubController.php(77): App\Helpers\GithubClientHelper->getStats()
#1 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): App\Http\Controllers\GithubController->store()
#2 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(43): Illuminate\Routing\Controller->callAction()
#3 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Route.php(259): Illuminate\Routing\ControllerDispatcher->dispatch()
#4 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Route.php(205): Illuminate\Routing\Route->runController()
#5 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(798): Illuminate\Routing\Route->run()
#6 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#7 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#8 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#9 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(78): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#10 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#11 /var/www/html/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#13 /var/www/html/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(121): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 /var/www/html/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#15 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Session\Middleware\StartSession->handle()
#16 /var/www/html/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#18 /var/www/html/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(67): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#20 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(797): Illuminate\Pipeline\Pipeline->then()
#22 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(776): Illuminate\Routing\Router->runRouteWithinStack()
#23 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(740): Illuminate\Routing\Router->runRoute()
#24 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(729): Illuminate\Routing\Router->dispatchToRoute()
#25 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Middleware\ValidatePostSize->handle()
#35 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(86): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 /var/www/html/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(49): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Http\Middleware\HandleCors->handle()
#39 /var/www/html/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Http\Middleware\TrustProxies->handle()
#41 /var/www/html/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(116): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#43 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#44 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(563): Illuminate\Foundation\Http\Kernel->handle()
#45 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(413): Illuminate\Foundation\Testing\TestCase->call()
#46 /var/www/html/tests/Feature/GithubControllerTest.php(56): Illuminate\Foundation\Testing\TestCase->patch()
#47 /var/www/html/vendor/phpunit/phpunit/src/Framework/TestCase.php(1030): Tests\Unit\GithubControllerTest->testStoreCreatesNewGithub()
#48 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Testing/TestCase.php(173): PHPUnit\Framework\TestCase->runTest()
#49 /var/www/html/vendor/phpunit/phpunit/src/Framework/TestCase.php(627): Illuminate\Foundation\Testing\TestCase->runTest()
#50 /var/www/html/vendor/phpunit/phpunit/src/Framework/TestRunner.php(101): PHPUnit\Framework\TestCase->runBare()
#51 /var/www/html/vendor/phpunit/phpunit/src/Framework/TestCase.php(456): PHPUnit\Framework\TestRunner->run()
#52 /var/www/html/vendor/phpunit/phpunit/src/Framework/TestSuite.php(352): PHPUnit\Framework\TestCase->run()
#53 /var/www/html/vendor/phpunit/phpunit/src/Framework/TestSuite.php(352): PHPUnit\Framework\TestSuite->run()
#54 /var/www/html/vendor/phpunit/phpunit/src/Framework/TestSuite.php(352): PHPUnit\Framework\TestSuite->run()
#55 /var/www/html/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(63): PHPUnit\Framework\TestSuite->run()
#56 /var/www/html/vendor/phpunit/phpunit/src/TextUI/Application.php(141): PHPUnit\TextUI\TestRunner->run()
#57 /var/www/html/vendor/phpunit/phpunit/phpunit(90): PHPUnit\TextUI\Application->run()
#58 {main}

----------------------------------------------------------------------------------

Error getting GitHub stats. Please try again later.

  at tests/Feature/GithubControllerTest.php:57
     53▕             'rank' => 3
     54▕         ])->make()->toArray();
     55▕ 
     56▕         $response = $this->actingAs($user)->patch(route('github.store'), $githubData);
  ➜  57▕         $response->assertSessionHas('status', 'github-created');
     58▕         $response->assertRedirect(route('github'));
     59▕ 
     60▕         $this->assertDatabaseHas('githubs', $githubData);
     61▕     }

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Unit\GithubControllerTest > store updates existing github      
  Failed asserting that null matches expected 'github-updated'.

The following errors occurred during the last request:

The url must be a valid Github repository URL.

  at tests/Feature/GithubControllerTest.php:71
     67▕         $github = Github::factory()->create();
     68▕         $updatedData = Github::factory()->make()->toArray();
     69▕ 
     70▕         $response = $this->actingAs($user)->patch(route('github.store', $github->id), $updatedData);
  ➜  71▕         $response->assertSessionHas('status', 'github-updated');
     72▕         $response->assertRedirect(route('github'));
     73▕ 
     74▕         $this->assertDatabaseHas('githubs', $updatedData);
     75▕     }


  Tests:    2 failed, 36 passed (93 assertions)
  Duration: 8.54s

